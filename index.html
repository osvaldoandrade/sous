<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sous | The Execution Layer for AI Agents</title>
    <meta name="description" content="sous is a high-performance function execution layer for agent-built automation. Secure sandboxing, immutable versions, and multi-tenant isolation.">
    <meta name="theme-color" content="#020617">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="sous | The Execution Layer for AI Agents">
    <meta property="og:description" content="Secure and scalable function execution fabric for autonomous agents.">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Space Grotesk', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        brand: {
                            bg: '#020617',       // Slate 950
                            surface: '#0f172a',  // Slate 900
                            border: '#1e293b',   // Slate 800
                            primary: '#10b981',  // Emerald 500
                            secondary: '#f59e0b',// Amber 500
                            accent: '#06b6d4',   // Cyan 500
                            success: '#10b981',  // Emerald 500
                            error: '#f43f5e',    // Rose 500
                            text: '#f8fafc',     // Slate 50
                            muted: '#64748b'     // Slate 500
                        }
                    },
                    backgroundImage: {
                        'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #020617;
            color: #f8fafc;
        }
        
        .glass-panel {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid #1e293b;
            transition: all 0.3s ease;
        }
        
        .glass-panel:hover {
            border-color: #10b981;
            box-shadow: 0 4px 30px -5px rgba(16, 185, 129, 0.2);
        }

        .glow-text {
            text-shadow: 0 0 20px rgba(16, 185, 129, 0.6);
        }

        .chart-container {
            position: relative;
            width: 100%;
            height: 300px;
        }

        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.5, 0, 0, 1);
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #020617; }
        ::-webkit-scrollbar-thumb { background: #1e293b; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #334155; }

        .tree-line-v { width: 1px; background-color: #1e293b; margin: 0 auto; }
        .tree-line-h { height: 1px; background-color: #1e293b; }

        .blink {
            animation: blinker 1s linear infinite;
        }
        @keyframes blinker {
            50% { opacity: 0; }
        }

        code { font-family: 'JetBrains Mono', monospace; }

        .stat-card {
            border-left: 2px solid #10b981;
            padding-left: 1rem;
        }
    </style>
</head>
<body class="antialiased selection:bg-brand-primary selection:text-white font-mono">

    <!-- Navbar -->
    <nav class="fixed top-0 w-full z-50 border-b border-brand-border bg-brand-bg/90 backdrop-blur-md">
        <div class="container mx-auto px-6 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <span class="font-display font-bold text-xl tracking-tight text-white hover:text-brand-primary transition-colors cursor-pointer uppercase flex items-center gap-2">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-brand-primary">
                        <rect x="10" y="2" width="4" height="12" fill="currentColor"/>
                        <rect x="10" y="4" width="2" height="2" fill="#020617"/>
                        <rect x="6" y="14" width="12" height="8" fill="currentColor" fill-opacity="0.3"/>
                        <rect x="8" y="16" width="8" height="4" fill="currentColor" fill-opacity="0.2"/>
                    </svg>
                    sous
                </span>
            </div>
            
            <div class="hidden md:flex items-center gap-8 text-xs font-bold uppercase tracking-widest text-brand-muted">
                <a href="#overview" class="hover:text-white transition-colors">[Overview]</a>
                <a href="#architecture" class="hover:text-white transition-colors">[How It Works]</a>
                <a href="#features" class="hover:text-white transition-colors">[Features]</a>
                <a href="#performance" class="hover:text-white transition-colors">[Benchmark]</a>
                <a href="#faq" class="hover:text-white transition-colors">[FAQ]</a>
            </div>

            <div class="flex items-center gap-4">
                <a href="https://osvaldoandrade.github.io/sous/wiki" target="_blank" class="hidden sm:inline-flex items-center justify-center px-4 py-2 text-xs font-bold text-brand-muted hover:text-white uppercase tracking-wide transition-colors">
                    Docs
                </a>
                <a href="#get-started" class="hidden sm:inline-flex items-center justify-center px-4 py-2 text-xs font-bold text-black bg-white uppercase tracking-wide hover:bg-emerald-500 hover:text-white transition-colors">
                    Get Started
                </a>
                <a href="https://github.com/osvaldoandrade/sous" target="_blank" class="text-brand-muted hover:text-white transition-colors">
                    <i class="fa-brands fa-github text-lg"></i>
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="relative pt-32 lg:pt-48 pb-12 overflow-hidden">
        <!-- Ambient Glow -->
        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full h-[600px] bg-gradient-radial from-brand-primary/10 to-transparent opacity-40 pointer-events-none"></div>

        <div class="container mx-auto px-4 text-center relative z-10">
            <h1 class="text-4xl md:text-7xl font-display font-bold leading-none mb-6 text-white tracking-tight reveal">
                The Execution Layer for <br><span class="text-brand-primary glow-text">AI Agents</span>.
            </h1>
            
            <p class="text-lg text-brand-muted max-w-2xl mx-auto mb-10 font-sans reveal" style="transition-delay: 100ms;">
                Secure, multi-tenant function execution for autonomous automation. <br class="hidden md:block" />
                No build steps, immutable versions, and granular capability-based sandboxing.
            </p>
        </div>
    </header>

    <main class="space-y-32 pb-32">

        <!-- SECTION: VIDEO OVERVIEW (FIRST) -->
        <section id="overview" class="container mx-auto px-4 reveal">
            <div class="max-w-4xl mx-auto border border-brand-border bg-black shadow-2xl p-1 relative group">
                <div class="relative w-full pb-[56.25%] h-0 bg-brand-surface">
                    <iframe 
                        src="https://drive.google.com/file/d/13GQQiQiYgKGsx0zORpIxNqC5SAVR3Jm1/preview" 
                        class="absolute top-0 left-0 w-full h-full"
                        allow="autoplay"
                        allowfullscreen
                        frameborder="0">
                    </iframe>
                </div>
            </div>
        </section>

        <!-- SECTION: ARCHITECTURE INFOGRAM (SECOND) -->
        <section id="architecture" class="container mx-auto px-4 reveal" style="transition-delay: 200ms;">
            <div class="text-center mb-12">
                <h2 class="text-2xl md:text-3xl font-display font-bold mb-2 text-white uppercase tracking-tight">How It Works</h2>
                <div class="h-1 w-10 bg-brand-secondary mx-auto"></div>
            </div>
            
            <div class="w-full h-[800px] border border-brand-border bg-black shadow-2xl rounded-xl overflow-hidden relative group">
                <iframe 
                    id="arch-iframe"
                    src="about:blank"
                    class="absolute top-0 left-0 w-full h-full"
                    allowfullscreen
                    frameborder="0">
                </iframe>
            </div>
        </section>

        <!-- SECTION: CORE FEATURES -->
        <section id="features" class="container mx-auto px-4 reveal">
            <div class="text-center mb-16">
                <h2 class="text-2xl md:text-3xl font-display font-bold mb-2 text-white uppercase tracking-tight">CORE FEATURES</h2>
                <div class="h-1 w-10 bg-brand-primary mx-auto"></div>
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto">
                <!-- Card 1 -->
                <div class="glass-panel p-8 group hover:bg-brand-surface/50 transition-all duration-300">
                    <div class="w-12 h-12 mb-6 flex items-center justify-center border border-brand-border bg-black group-hover:border-brand-primary/50 transition-colors">
                        <i class="fa-solid fa-bolt text-2xl text-brand-primary"></i>
                    </div>
                    <h3 class="text-white font-bold uppercase mb-3 tracking-wide">No Build Step</h3>
                    <p class="text-brand-muted text-sm leading-relaxed font-sans">
                        Publish functions instantly as UTF-8 text and JSON manifests. No Docker builds, no CI wait times, just code to execution.
                    </p>
                </div>
                <!-- Card 2 -->
                <div class="glass-panel p-8 group hover:bg-brand-surface/50 transition-all duration-300">
                    <div class="w-12 h-12 mb-6 flex items-center justify-center border border-brand-border bg-black group-hover:border-brand-primary/50 transition-colors">
                        <i class="fa-solid fa-shield-halved text-2xl text-brand-primary"></i>
                    </div>
                    <h3 class="text-white font-bold uppercase mb-3 tracking-wide">Capability Security</h3>
                    <p class="text-brand-muted text-sm leading-relaxed font-sans">
                        Strict allowlists for network egress and side effects. The runtime blocks filesystem access and process spawning by default.
                    </p>
                </div>
                <!-- Card 3 -->
                <div class="glass-panel p-8 group hover:bg-brand-surface/50 transition-all duration-300">
                    <div class="w-12 h-12 mb-6 flex items-center justify-center border border-brand-border bg-black group-hover:border-brand-primary/50 transition-colors">
                        <i class="fa-solid fa-layer-group text-2xl text-brand-primary"></i>
                    </div>
                    <h3 class="text-white font-bold uppercase mb-3 tracking-wide">Unified Fabric</h3>
                    <p class="text-brand-muted text-sm leading-relaxed font-sans">
                        A single execution engine for HTTP calls, recurring schedules, and Cadence Activities. One pool, multiple triggers.
                    </p>
                </div>
                <!-- Card 4 -->
                <div class="glass-panel p-8 group hover:bg-brand-surface/50 transition-all duration-300">
                    <div class="w-12 h-12 mb-6 flex items-center justify-center border border-brand-border bg-black group-hover:border-brand-primary/50 transition-colors">
                        <i class="fa-solid fa-code-merge text-2xl text-brand-primary"></i>
                    </div>
                    <h3 class="text-white font-bold uppercase mb-3 tracking-wide">Immutable Aliasing</h3>
                    <p class="text-brand-muted text-sm leading-relaxed font-sans">
                        Every publish creates an immutable version. Use aliases to promote versions between environments with zero downtime.
                    </p>
                </div>
                <!-- Card 5 -->
                <div class="glass-panel p-8 group hover:bg-brand-surface/50 transition-all duration-300">
                    <div class="w-12 h-12 mb-6 flex items-center justify-center border border-brand-border bg-black group-hover:border-brand-primary/50 transition-colors">
                        <i class="fa-solid fa-laptop-code text-2xl text-brand-primary"></i>
                    </div>
                    <h3 class="text-white font-bold uppercase mb-3 tracking-wide">Runtime Parity</h3>
                    <p class="text-brand-muted text-sm leading-relaxed font-sans">
                        The CLI uses the exact same <code>cs-js</code> runtime as the server. If it works on your machine, it works in the cluster.
                    </p>
                </div>
                <!-- Card 6 -->
                <div class="glass-panel p-8 group hover:bg-brand-surface/50 transition-all duration-300">
                    <div class="w-12 h-12 mb-6 flex items-center justify-center border border-brand-border bg-black group-hover:border-brand-primary/50 transition-colors">
                        <i class="fa-solid fa-eye text-2xl text-brand-primary"></i>
                    </div>
                    <h3 class="text-white font-bold uppercase mb-3 tracking-wide">Deep Observability</h3>
                    <p class="text-brand-muted text-sm leading-relaxed font-sans">
                        Automatic persistence of activation records and user logs. Query results and audit trails via the control plane API.
                    </p>
                </div>
            </div>
        </section>

        <!-- SECTION: INITIALIZATION -->
        <section id="get-started" class="container mx-auto px-4 reveal">
            <div class="text-center mb-12">
                <h2 class="text-2xl md:text-3xl font-display font-bold mb-2 text-white uppercase tracking-tight">Agent Workflow</h2>
                <div class="h-1 w-10 bg-brand-primary mx-auto"></div>
            </div>

            <div class="max-w-6xl mx-auto">
                <div class="border border-brand-border bg-black shadow-2xl">
                    <div class="flex border-b border-brand-border bg-brand-surface overflow-x-auto">
                        <button onclick="switchTab('cli')" id="btn-cli" class="px-6 py-3 text-xs font-bold text-white bg-black border-t-2 border-brand-primary tracking-wider transition-all">CLI (AGENT)</button>
                        <button onclick="switchTab('js')" id="btn-js" class="px-6 py-3 text-xs font-bold text-brand-muted hover:text-white hover:bg-black/50 tracking-wider transition-all">FUNCTION.JS</button>
                        <button onclick="switchTab('manifest')" id="btn-manifest" class="px-6 py-3 text-xs font-bold text-brand-muted hover:text-white hover:bg-black/50 tracking-wider transition-all">MANIFEST.JSON</button>
                    </div>

                    <div id="content-cli" class="p-6 bg-black font-mono text-xs overflow-x-auto h-[350px] text-brand-text">
<pre><code class="language-bash"><span class="text-brand-muted"># 1. Initialize (creates function.js + manifest.json)</span>
<span class="text-brand-primary">$</span> cs fn init reconcile --runtime cs-js

<span class="text-brand-muted"># 2. Test locally (runs in the local sandbox)</span>
<span class="text-brand-primary">$</span> cs fn test reconcile --event ./event.json

<span class="text-brand-muted"># 3. Upload code as a Draft (This sends function.js to cloud)</span>
<span class="text-brand-primary">$</span> cs fn draft upload reconcile --path .
<span class="text-brand-success">> Draft created: drf_01J2...</span>

<span class="text-brand-muted"># 4. Publish immutable version from Draft</span>
<span class="text-brand-primary">$</span> cs fn publish reconcile --draft drf_01J2... --memory-mb 128

<span class="text-brand-muted"># 5. Point 'prod' alias to version 42</span>
<span class="text-brand-primary">$</span> cs fn alias set reconcile prod --version 42

<span class="text-brand-success">âœ” Success. Function promoted to production.</span><span class="blink">_</span></code></pre>
                    </div>

                    <div id="content-js" class="p-6 bg-black font-mono text-xs overflow-x-auto h-[350px] text-brand-text hidden">
<pre><code class="language-js"><span class="text-brand-muted">// Agent-generated automation: reconcile.js</span>
<span class="text-brand-primary">export default async function</span>(event, context) {
  <span class="text-brand-muted">// 1. Destructure input from the agent task</span>
  <span class="text-brand-primary">const</span> { orderId, expectedTotal } = event;

  <span class="text-brand-muted">// 2. Execute side-effect (requires capability)</span>
  <span class="text-brand-primary">const</span> res = <span class="text-brand-primary">await</span> fetch(<span class="text-brand-success">`https://api.stripe.com/v1/orders/${orderId}`</span>);
  <span class="text-brand-primary">const</span> order = <span class="text-brand-primary">await</span> res.json();

  <span class="text-brand-muted">// 3. Pure logic: compare and reconcile</span>
  <span class="text-brand-primary">const</span> status = order.amount === expectedTotal ? <span class="text-brand-success">'MATCH'</span> : <span class="text-brand-error">'MISMATCH'</span>;

  <span class="text-brand-muted">// 4. Return serializable result</span>
  <span class="text-brand-primary">return</span> {
    orderId,
    reconciled: <span class="text-brand-primary">true</span>,
    status,
    timestamp: <span class="text-brand-primary">new Date</span>().toISOString()
  };
}</code></pre>
                    </div>

                    <div id="content-manifest" class="p-6 bg-black font-mono text-xs overflow-x-auto h-[350px] text-brand-text hidden">
<pre><code class="language-json">{
  <span class="text-brand-secondary">"name"</span>: <span class="text-brand-success">"reconcile"</span>,
  <span class="text-brand-secondary">"runtime"</span>: <span class="text-brand-success">"cs-js"</span>,
  <span class="text-brand-secondary">"privileges"</span>: {
    <span class="text-brand-secondary">"capabilities"</span>: [
      <span class="text-brand-success">"network:egress:api.stripe.com"</span>,
      <span class="text-brand-success">"network:egress:internal-db.local"</span>
    ],
    <span class="text-brand-secondary">"roles"</span>: {
      <span class="text-brand-secondary">"invoke-http"</span>: [<span class="text-brand-success">"admin"</span>, <span class="text-brand-success">"worker"</span>]
    }
  },
  <span class="text-brand-secondary">"limits"</span>: {
    <span class="text-brand-secondary">"timeout_ms"</span>: <span class="text-brand-primary">3000</span>,
    <span class="text-brand-secondary">"memory_mb"</span>: <span class="text-brand-primary">64</span>
  }
}</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: PERFORMANCE / CAPABILITIES -->
        <section id="performance" class="container mx-auto px-4 reveal">
            <div class="text-center mb-16">
                <h2 class="text-2xl md:text-3xl font-display font-bold mb-2 text-white uppercase tracking-tight">Benchmark & Density</h2>
                <div class="h-1 w-10 bg-brand-primary mx-auto"></div>
                <p class="text-brand-muted mt-4 font-sans text-sm max-w-2xl mx-auto">
                    sous balances aggressive isolation with low-overhead execution. Designed to run thousands of short-lived functions with predictable latency.
                </p>
            </div>

            <div class="grid lg:grid-cols-2 gap-8 max-w-6xl mx-auto">
                
                <!-- Chart 1: Isolation Performance -->
                <div class="glass-panel p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-sm font-bold uppercase tracking-widest text-white">Cold Start vs Complexity</h3>
                        <span class="text-[10px] bg-brand-primary/20 text-brand-primary px-2 py-1 border border-brand-primary/30">RUNTIME</span>
                    </div>
                    <div class="chart-container">
                        <canvas id="latencyVolumeChart"></canvas>
                    </div>
                    <p class="text-[10px] text-brand-muted mt-4 font-sans italic text-center">
                        sous (cs-js) maintains sub-50ms cold starts by avoiding heavy container overhead, using lightweight process isolation.
                    </p>
                </div>

                <!-- Chart 2: Multi-tenant Density -->
                <div class="glass-panel p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-sm font-bold uppercase tracking-widest text-white">Memory Footprint per Function</h3>
                        <span class="text-[10px] bg-brand-success/20 text-brand-success px-2 py-1 border border-brand-success/30">DENSITY</span>
                    </div>
                    <div class="chart-container">
                        <canvas id="accuracyCostChart"></canvas>
                    </div>
                    <div class="grid grid-cols-2 gap-4 mt-4">
                        <div class="stat-card">
                            <div class="text-brand-primary font-bold text-lg">&lt; 50ms</div>
                            <div class="text-[9px] text-brand-muted uppercase">Median Execution overhead</div>
                        </div>
                        <div class="stat-card border-brand-success">
                            <div class="text-brand-success font-bold text-lg">1000+</div>
                            <div class="text-[9px] text-brand-muted uppercase">Concurrent Tasks / Node</div>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- SECTION: FAQ -->
        <section id="faq" class="container mx-auto px-4 reveal">
            <div class="max-w-6xl mx-auto space-y-4">
                <div class="text-center mb-12">
                    <h2 class="text-2xl font-display font-bold mb-2 uppercase tracking-tight">Technical FAQ</h2>
                    <div class="h-1 w-10 bg-brand-primary mx-auto"></div>
                </div>
                
                <details class="group bg-brand-surface border border-brand-border">
                    <summary class="flex justify-between items-center font-bold cursor-pointer list-none p-5 text-white text-sm uppercase tracking-wide hover:bg-brand-border/50 transition-colors">
                        <span>What is the "No Build Step" promise?</span>
                        <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down text-brand-primary"></i></span>
                    </summary>
                    <div class="text-brand-muted text-sm leading-relaxed px-5 pb-5 pt-0 border-t border-brand-border font-sans mt-4">
                        Unlike traditional serverless platforms that require Docker builds or compilation, <strong>sous</strong> accepts function code as plain UTF-8 text. This allows agents to generate, upload, and execute code in seconds without CI/CD overhead.
                    </div>
                </details>

                <details class="group bg-brand-surface border border-brand-border">
                    <summary class="flex justify-between items-center font-bold cursor-pointer list-none p-5 text-white text-sm uppercase tracking-wide hover:bg-brand-border/50 transition-colors">
                        <span>How does capability-based security work?</span>
                        <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down text-brand-primary"></i></span>
                    </summary>
                    <div class="text-brand-muted text-sm leading-relaxed px-5 pb-5 pt-0 border-t border-brand-border font-sans mt-4">
                        Security is enforced at the runtime level. A function must declare its <code>capabilities</code> (e.g., network egress to a specific domain) in its manifest. By default, the sandbox blocks all filesystem access, process spawning, and private network ranges.
                    </div>
                </details>

                <details class="group bg-brand-surface border border-brand-border">
                    <summary class="flex justify-between items-center font-bold cursor-pointer list-none p-5 text-white text-sm uppercase tracking-wide hover:bg-brand-border/50 transition-colors">
                        <span>Why use codeQ as a buffer?</span>
                        <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down text-brand-primary"></i></span>
                    </summary>
                    <div class="text-brand-muted text-sm leading-relaxed px-5 pb-5 pt-0 border-t border-brand-border font-sans mt-4">
                        codeQ acts as a reliability layer between ingress (HTTP/Schedule) and execution (Invoker Pool). It provides backpressure, allows for independent scaling of pollers and invokers, and ensures that user code failures don't impact the ingress loop.
                    </div>
                </details>

                <details class="group bg-brand-surface border border-brand-border">
                    <summary class="flex justify-between items-center font-bold cursor-pointer list-none p-5 text-white text-sm uppercase tracking-wide hover:bg-brand-border/50 transition-colors">
                        <span>How does sous latency compare to AWS Lambda?</span>
                        <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down text-brand-primary"></i></span>
                    </summary>
                    <div class="text-brand-muted text-sm leading-relaxed px-5 pb-5 pt-0 border-t border-brand-border font-sans mt-4">
                        Total response time for synchronous calls in <strong>sous</strong> may be higher than AWS Lambda or Google Cloud Functions due to the mandatory decoupling through the <strong>codeQ</strong> bus for reliability. However, the trade-off is massive efficiency: our memory footprint is <strong>90.6% lower</strong> (approx. 12MB vs 128MB minimums), allowing for extreme tenant density and significantly lower infrastructure costs.
                    </div>
                </details>

                <details class="group bg-brand-surface border border-brand-border">
                    <summary class="flex justify-between items-center font-bold cursor-pointer list-none p-5 text-white text-sm uppercase tracking-wide hover:bg-brand-border/50 transition-colors">
                        <span>Is there parity between local and remote environments?</span>
                        <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down text-brand-primary"></i></span>
                    </summary>
                    <div class="text-brand-muted text-sm leading-relaxed px-5 pb-5 pt-0 border-t border-brand-border font-sans mt-4">
                        Yes. The <code>cs</code> CLI uses the exact same <code>cs-js</code> runtime semantics and host APIs as the server. This "Runtime Parity" ensures that if a function passes locally via <code>cs fn test</code>, it will behave identically in the cluster.
                    </div>
                </details>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="border-t border-brand-border bg-[#000000] py-12 font-mono text-xs">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-4 gap-8 mb-12">
                <div class="col-span-2">
                    <div class="flex items-center gap-2 mb-4">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-brand-primary">
                            <rect x="10" y="2" width="4" height="12" fill="currentColor"/>
                            <rect x="10" y="4" width="2" height="2" fill="#020617"/>
                            <rect x="6" y="14" width="12" height="8" fill="currentColor" fill-opacity="0.3"/>
                            <rect x="8" y="16" width="8" height="4" fill="currentColor" fill-opacity="0.2"/>
                        </svg>
                        <span class="font-bold text-lg text-white tracking-widest uppercase">sous</span>
                    </div>
                    <p class="text-brand-muted max-w-sm mb-4">
                        The secure execution fabric for agent-built automation. Immutable, isolated, and scalable.
                    </p>
                    <p class="text-brand-primary">Built for the Agentic Era.</p>
                </div>
                
                <div>
                    <h5 class="font-bold text-white mb-4 uppercase tracking-widest">Related Projects</h5>
                    <ul class="space-y-2 text-brand-muted">
                        <li><a href="https://osvaldoandrade.github.io/codeq" target="_blank" class="hover:text-brand-primary hover:underline">codeQ</a></li>
                        <li><a href="https://osvaldoandrade.github.io/ledgerdb" target="_blank" class="hover:text-brand-primary hover:underline">LedgerDB</a></li>
                        <li><a href="https://osvaldoandrade.github.io/tikti" target="_blank" class="hover:text-brand-primary hover:underline">Tikti</a></li>
                        <li><a href="https://osvaldoandrade.github.io/neuron" target="_blank" class="hover:text-brand-primary hover:underline">Neuron</a></li>
                    </ul>
                </div>
                
                <div>
                    <h5 class="font-bold text-white mb-4 uppercase tracking-widest">Resources</h5>
                    <ul class="space-y-2 text-brand-muted">
                        <li><a href="https://github.com/osvaldoandrade/sous" target="_blank" class="hover:text-brand-primary hover:underline">GitHub</a></li>
                        <li><a href="https://osvaldoandrade.github.io/sous/wiki" target="_blank" class="hover:text-brand-primary hover:underline">Documentation</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <script>
        (function() {
            const colors = {
                primary: '#10b981',
                secondary: '#f59e0b',
                success: '#10b981',
                muted: '#64748b',
                white: '#f8fafc'
            };

            Chart.defaults.color = colors.muted;
            Chart.defaults.borderColor = '#1e293b';
            Chart.defaults.font.family = "'JetBrains Mono', monospace";

            // Configuration for the Architecture Trace
            const archSteps = [
                {
                    title: "1. Function Publish",
                    tag: "DEVELOPMENT",
                    content: "The Agent uses the CLI <code>cs fn publish</code> to send the code bundle and manifest to <strong>cs-control</strong>. No build step is required; the code is sent as plain text.",
                    nodes: ["node-agent", "node-control"],
                    links: [["node-agent", "node-control"]]
                },
                {
                    title: "2. Immutable Registry",
                    tag: "REGISTRY",
                    content: "The <strong>Control Plane</strong> validates the manifest and stores the version immutably in the <strong>Registry</strong> (KVRocks). An alias (e.g., 'prod') is pointed to the new version.",
                    nodes: ["node-control", "node-registry", "node-kvrocks"],
                    links: [["node-control", "node-registry"], ["node-control", "node-kvrocks"]]
                },
                {
                    title: "3. Trigger Ingress",
                    tag: "GATEWAY",
                    content: "A request arrives via <strong>HTTP</strong>, <strong>Scheduler</strong> interval, or <strong>Cadence</strong> polling. The Data Plane resolves the alias to the actual code bundle.",
                    nodes: ["node-ingress", "node-registry"],
                    links: [["node-ingress", "node-registry"]]
                },
                {
                    title: "4. codeQ Buffering",
                    tag: "RELIABILITY",
                    content: "The invocation request is queued in <strong>codeQ</strong>. This isolates the gateway from execution and ensures backpressure if the invoker pool is saturated.",
                    nodes: ["node-ingress", "node-codeq"],
                    links: [["node-ingress", "node-codeq"]]
                },
                {
                    title: "5. Claim & Execute",
                    tag: "EXECUTION",
                    content: "The <strong>Invoker Pool</strong> consumes the task from codeQ and initializes the <strong>cs-js</strong> runtime to process the function in isolation.",
                    nodes: ["node-invoker", "node-codeq"],
                    links: [["node-invoker", "node-codeq"]]
                },
                {
                    title: "6. Sandbox Isolation",
                    tag: "SECURITY",
                    content: "Inside the <strong>Sandbox</strong>, user code is restricted. Network access is allowed only via explicit manifest allowlists; FS and process spawning are blocked.",
                    nodes: ["node-invoker", "node-sandbox"],
                    links: [["node-invoker", "node-sandbox"]]
                },
                {
                    title: "7. Activation Archival",
                    tag: "OBSERVABILITY",
                    content: "Execution logs and results are captured by the invoker and persisted as an <strong>Activation</strong> record in KVRocks.",
                    nodes: ["node-invoker", "node-results", "node-kvrocks"],
                    links: [["node-invoker", "node-results"], ["node-invoker", "node-kvrocks"]]
                },
                {
                    title: "8. Result Return",
                    tag: "COMPLETION",
                    content: "The final result is returned to the original Trigger (Sync HTTP) or sent back to the Cadence Activity, closing the task loop.",
                    nodes: ["node-results", "node-ingress"],
                    links: [["node-results", "node-ingress"]]
                }
            ];

            const archHTML = `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    \x3Cscript src="https://cdn.tailwindcss.com">\x3C/script\x3E
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #020617; color: #e2e8f0; overflow: hidden; margin: 0; height: 100vh; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }
        @keyframes flow-dash { to { stroke-dashoffset: -20; } }
        @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .glass-panel { background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(12px); border: 1px solid #1e293b; transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1); display: flex; flex-direction: column; justify-content: space-between; position: relative; z-index: 10; }
        .glass-panel:hover { border-color: #334155; background: rgba(30, 41, 59, 0.8); }
        .glass-panel.active { background: rgba(30, 41, 59, 0.95); border-color: #10b981; box-shadow: 0 0 40px rgba(16, 185, 129, 0.15); transform: scale(1.02); z-index: 50; }
        .glass-panel.dimmed { opacity: 0.4; filter: grayscale(0.8); transform: scale(0.98); }
        .connector-line { stroke: #334155; stroke-width: 2; fill: none; transition: stroke 0.4s, opacity 0.4s; opacity: 0.2; }
        .connector-line.active { stroke: #10b981; stroke-width: 3; opacity: 1; filter: drop-shadow(0 0 4px rgba(16, 185, 129, 0.5)); animation: flow-dash 1s linear infinite; stroke-dasharray: 8 4; }
        .arch-grid { display: grid; grid-template-columns: 1fr 320px 1fr; grid-template-rows: 1fr 1fr 1fr; gap: 1.5rem; height: 100%; padding: 2rem; max-width: 1920px; margin: 0 auto; position: relative; }
        .label-micro { font-size: 9px; text-transform: uppercase; letter-spacing: 0.05em; color: #64748b; font-weight: 700; margin-bottom: 4px; }
        .node-icon { font-size: 1.5rem; margin-bottom: 0.5rem; color: #94a3b8; }
        .glass-panel.active .node-icon { color: #fff; text-shadow: 0 0 10px rgba(16,185,129,0.8); }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }
    </style>
</head>
<body class="flex flex-col bg-[#020617]">
    <header class="h-16 border-b border-slate-800 flex items-center justify-between px-8 bg-[#020617]/90 backdrop-blur z-50 shrink-0">
        <div class="flex items-center gap-4">
            <div class="w-3 h-3 rounded-full bg-emerald-500 animate-pulse shadow-[0_0_10px_#10b981]"></div>
            <span class="font-display font-bold text-xl tracking-tight text-white">sous <span class="text-emerald-500 font-mono text-sm opacity-80 tracking-widest ml-2">// EXECUTION_TRACE</span></span>
        </div>
        <div class="flex items-center gap-8 text-xs font-mono text-slate-400">
            <div class="flex items-center gap-2"><div class="w-1.5 h-1.5 bg-amber-500 rounded-full"></div>CONTROL_PLANE</div>
            <div class="flex items-center gap-2"><div class="w-1.5 h-1.5 bg-emerald-500 rounded-full"></div>DATA_PLANE</div>
            <div class="flex items-center gap-2"><div class="w-1.5 h-1.5 bg-cyan-500 rounded-full"></div>STORAGE_LAYER</div>
        </div>
    </header>
    <div class="flex-1 flex overflow-hidden relative">
        <div class="w-[400px] h-full z-40 flex flex-col border-r border-slate-800 bg-[#0b1121]/95 backdrop-blur shadow-2xl shrink-0">
            <div class="flex-1 p-8 overflow-y-auto" id="narrative-box">
                <div class="flex flex-col items-center justify-center h-full text-center space-y-8 animate-[fade-in_0.5s_ease-out]">
                    <div class="relative"><div class="absolute inset-0 bg-emerald-500/20 blur-xl rounded-full"></div><div class="relative w-20 h-20 bg-[#0f172a] rounded-full flex items-center justify-center border border-emerald-500/50 text-emerald-400"><i class="fa-solid fa-microchip text-3xl"></i></div></div>
                    <div><h2 class="text-2xl font-bold text-white font-display mb-2">Platform Trace</h2><p class="text-emerald-500 font-mono text-xs tracking-[0.2em] uppercase">Status: Ready</p></div>
                    <p class="text-slate-400 text-sm leading-relaxed max-w-xs mx-auto">Visualizing the lifecycle of an agent function from publish to execution.</p>
                    <button onclick="window.parent.startArchTrace()" class="group relative px-8 py-4 bg-emerald-950/50 text-emerald-400 font-mono text-sm font-bold tracking-widest rounded border border-emerald-500/30 hover:bg-emerald-500 hover:text-white hover:border-emerald-400 transition-all overflow-hidden"><span class="relative z-10">START TRACE</span><div class="absolute inset-0 h-full w-full bg-emerald-500/10 scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-500"></div></button>
                </div>
            </div>
            <div class="p-6 border-t border-slate-800 bg-[#020617]">
                <div class="flex justify-between items-center text-[10px] font-mono text-slate-500 mb-3"><span class="tracking-widest">TRACE STEP</span><span id="step-counter" class="text-emerald-500">0 / 8</span></div>
                <div class="w-full bg-slate-800 h-1 rounded-full overflow-hidden mb-6"><div id="progress-bar" class="h-full bg-gradient-to-r from-emerald-600 to-emerald-400 w-0 transition-all duration-500 ease-out shadow-[0_0_10px_#10b981]"></div></div>
                <div class="flex gap-3">
                    <button id="btn-prev" onclick="window.parent.prevArchStep()" disabled class="px-4 py-3 rounded border border-slate-700 text-slate-400 hover:text-white hover:border-slate-500 transition-all text-xs font-mono font-bold"><i class="fa-solid fa-chevron-left"></i></button>
                    <button id="btn-next" onclick="window.parent.nextArchStep()" class="flex-1 px-4 py-3 rounded bg-slate-800 text-slate-500 font-mono text-xs font-bold transition-all border border-slate-700 flex items-center justify-center gap-2 group disabled:opacity-50"><span>START</span><i class="fa-solid fa-play text-emerald-400"></i></button>
                </div>
            </div>
        </div>
        <div class="flex-1 bg-[#020617] relative flex items-center justify-center overflow-hidden">
            <div class="absolute inset-0 opacity-20 pointer-events-none" style="background-image: radial-gradient(#1e293b 1px, transparent 1px); background-size: 30px 30px;"></div>
            <svg class="absolute inset-0 w-full h-full pointer-events-none z-0" id="connector-layer"></svg>
            <div class="arch-grid w-full h-full relative z-10">
                <div id="node-agent" class="glass-panel rounded-xl p-5 border-t-4 border-t-amber-500"><div><div class="label-micro text-amber-400">DEVELOPER INTERFACE</div><div class="text-lg font-bold text-white"><i class="fa-solid fa-terminal node-icon text-amber-500"></i> AGENT CLI</div></div><div class="text-xs text-slate-400 font-mono bg-black/20 p-2 rounded">cs fn publish<br>Manifest + Bundle</div></div>
                <div id="node-control" class="glass-panel rounded-xl p-5 border-t-4 border-t-emerald-500 scale-105 z-20 shadow-xl bg-slate-900/80"><div><div class="label-micro text-emerald-400">CS-CONTROL</div><div class="text-2xl font-bold text-white"><i class="fa-solid fa-gauge-high node-icon text-emerald-500"></i> CONTROL PLANE</div></div><div class="grid grid-cols-2 gap-2 mt-2"><div class="text-[10px] bg-slate-800 p-1 rounded text-center text-slate-300">Policy</div><div class="text-[10px] bg-slate-800 p-1 rounded text-center text-slate-300">Versions</div></div></div>
                <div id="node-registry" class="glass-panel rounded-xl p-5 border-t-4 border-t-cyan-500"><div><div class="label-micro text-cyan-400">IMMUTABLE STORE</div><div class="text-lg font-bold text-white"><i class="fa-solid fa-box-archive node-icon text-cyan-500"></i> REGISTRY</div></div><div class="text-xs text-slate-400 font-mono bg-black/20 p-2 rounded text-right">Bundles / Pointers<br>Tenant-Isolated</div></div>
                <div id="node-ingress" class="glass-panel rounded-xl p-5 border-l-4 border-l-amber-500"><div class="flex justify-between items-start"><div><div class="label-micro text-amber-500">INGRESS GATEWAYS</div><div class="text-lg font-bold text-white">TRIGGERS</div></div><i class="fa-solid fa-bolt text-amber-500 opacity-50"></i></div><div class="space-y-1 mt-2 font-mono text-[9px] text-slate-400"><div class="flex justify-between"><span>HTTP</span> <span class="text-emerald-500">cs-http</span></div><div class="flex justify-between"><span>Schedule</span> <span class="text-emerald-500">cs-sched</span></div><div class="flex justify-between"><span>Cadence</span> <span class="text-emerald-500">cs-poller</span></div></div></div>
                <div id="node-codeq" class="glass-panel rounded-xl p-5 border-x-4 border-x-emerald-600 bg-slate-900/60"><div class="text-center"><div class="label-micro text-emerald-500">MESSAGE FABRIC</div><div class="text-xl font-bold text-white mb-2">CODEQ BUFFER</div></div><div class="flex-1 flex items-center justify-center relative"><div class="absolute inset-0 border border-dashed border-slate-700 rounded-full animate-[spin_10s_linear_infinite]"></div><i class="fa-solid fa-arrows-split-up-and-left text-3xl text-slate-600"></i><div class="absolute bg-slate-900 px-2 text-[10px] font-mono text-emerald-400">BACKPRESSURE</div></div></div>
                <div id="node-invoker" class="glass-panel rounded-xl p-5 border-r-4 border-r-emerald-500"><div class="flex justify-between items-start"><i class="fa-solid fa-server text-emerald-500 opacity-50"></i><div class="text-right"><div class="label-micro text-emerald-500">EXECUTION PLANE</div><div class="text-lg font-bold text-white">INVOKER POOL</div></div></div><div class="grid grid-cols-2 gap-2 mt-4"><div class="bg-emerald-900/20 border border-emerald-500/30 p-2 rounded text-center"><div class="text-xs font-bold text-emerald-400">CS-JS</div><div class="text-[8px] text-emerald-300">Runtime</div></div><div class="bg-slate-800/50 border border-slate-700 p-2 rounded text-center"><div class="text-xs font-bold text-slate-300">Scale</div><div class="text-[8px] text-slate-500">Auto</div></div></div></div>
                <div id="node-sandbox" class="glass-panel rounded-xl p-5 border-b-4 border-b-rose-500"><div><div class="label-micro text-rose-500">SECURITY BOUNDARY</div><div class="text-lg font-bold text-white">SANDBOX</div></div><div class="mt-2 flex gap-2"><div class="flex-1 bg-rose-900/20 p-2 rounded border border-rose-500/20"><i class="fa-solid fa-shield-halved text-rose-500 mb-1"></i><div class="text-[9px] text-rose-200">Capabilities</div></div><div class="flex-1 bg-slate-900/20 p-2 rounded border border-slate-700/20"><i class="fa-solid fa-ban text-slate-500 mb-1"></i><div class="text-[9px] text-slate-500">No FS</div></div></div></div>
                <div id="node-kvrocks" class="glass-panel rounded-xl p-5 border-b-4 border-b-white bg-slate-950"><div class="text-center"><div class="label-micro text-white">PERSISTENCE LAYER</div><div class="text-xl font-bold text-white"><i class="fa-solid fa-database text-slate-400 mr-2"></i> KVROCKS</div></div><div class="mt-4 flex justify-center gap-4"><div class="text-center"><div class="w-16 h-8 bg-slate-800 rounded border border-slate-700 mx-auto mb-1"></div><div class="text-[9px] text-slate-500">Disk-Back</div></div><div class="text-center"><div class="w-16 h-8 bg-slate-800 rounded border border-slate-700 mx-auto mb-1"></div><div class="text-[9px] text-slate-500">Multi-tenant</div></div></div></div>
                <div id="node-results" class="glass-panel rounded-xl p-5 border-b-4 border-b-cyan-500"><div class="text-right"><div class="label-micro text-cyan-500">OBSERVABILITY</div><div class="text-lg font-bold text-white">ACTIVATIONS</div></div><div class="mt-3 bg-cyan-900/20 p-2 rounded border border-cyan-500/20 flex items-center justify-between"><i class="fa-solid fa-list-check text-cyan-400"></i><div class="text-right"><div class="text-[10px] text-cyan-200 font-mono">Logs + Results</div><div class="text-[8px] text-cyan-400">RETENTION: 7D</div></div></div></div>
            </div>
        </div>
    </div>
    \x3Cscript\x3E
        document.querySelectorAll(".glass-panel").forEach(el => el.classList.add("dimmed"));
    \x3C/script\x3E
</body>
</html>`;

            let currentArchStep = -1;

            window.startArchTrace = function() {
                currentArchStep = 0;
                renderArchStep(currentArchStep);
            };

            window.nextArchStep = function() {
                if (currentArchStep < archSteps.length - 1) {
                    currentArchStep++;
                    renderArchStep(currentArchStep);
                }
            };

            window.prevArchStep = function() {
                if (currentArchStep > 0) {
                    currentArchStep--;
                    renderArchStep(currentArchStep);
                }
            };

            function renderArchStep(index) {
                const iframe = document.getElementById('arch-iframe');
                if (!iframe || !iframe.contentWindow) return;
                const doc = iframe.contentWindow.document;
                const step = archSteps[index];

                // Update Narrative
                const narrativeBox = doc.getElementById('narrative-box');
                narrativeBox.innerHTML = `
                    <div class="animate-[fade-in_0.4s_ease-out]">
                        <div class="font-mono text-[10px] font-bold mb-3 px-2 py-1 rounded w-fit bg-emerald-900/30 text-emerald-400 border border-emerald-500/30 tracking-widest uppercase">
                            // ${step.tag}
                        </div>
                        <h2 class="text-2xl font-display font-bold mb-4 text-white leading-tight">${step.title}</h2>
                        <div class="text-sm leading-6 text-slate-300 font-light border-l-2 border-emerald-500/50 pl-4">
                            ${step.content}
                        </div>
                    </div>
                `;

                // Dim/Highlight Nodes
                doc.querySelectorAll(".glass-panel").forEach(el => {
                    el.classList.remove("active");
                    el.classList.add("dimmed");
                });
                step.nodes.forEach(id => {
                    const el = doc.getElementById(id);
                    if(el) { el.classList.remove("dimmed"); el.classList.add("active"); }
                });

                // Draw Connections
                drawArchLines(doc, step.links);

                // Update Controls
                doc.getElementById('step-counter').innerText = `${index + 1} / ${archSteps.length}`;
                doc.getElementById('progress-bar').style.width = `${((index + 1) / archSteps.length) * 100}%`;
                
                const btnPrev = doc.getElementById('btn-prev');
                const btnNext = doc.getElementById('btn-next');
                
                btnPrev.disabled = (index === 0);
                if (index === archSteps.length - 1) {
                    btnNext.innerHTML = "<span>RESTART</span><i class='fa-solid fa-rotate-left text-amber-400'></i>";
                } else {
                    btnNext.innerHTML = "<span>NEXT</span><i class='fa-solid fa-chevron-right text-emerald-400'></i>";
                }
            }

            function drawArchLines(doc, links) {
                const connectorLayer = doc.getElementById('connector-layer');
                connectorLayer.innerHTML = "";
                
                setTimeout(() => {
                    const containerRect = connectorLayer.getBoundingClientRect();
                    links.forEach(([startId, endId]) => {
                        const startEl = doc.getElementById(startId);
                        const endEl = doc.getElementById(endId);
                        if(!startEl || !endEl) return;
                        const startRect = startEl.getBoundingClientRect();
                        const endRect = endEl.getBoundingClientRect();
                        const x1 = startRect.left + startRect.width / 2 - containerRect.left;
                        const y1 = startRect.top + startRect.height / 2 - containerRect.top;
                        const x2 = endRect.left + endRect.width / 2 - containerRect.left;
                        const y2 = endRect.top + endRect.height / 2 - containerRect.top;
                        const path = doc.createElementNS("http://www.w3.org/2000/svg", "path");
                        const deltaX = Math.abs(x2 - x1);
                        const deltaY = Math.abs(y2 - y1);
                        let d = (deltaX < 50 || deltaY < 50) ? `M ${x1} ${y1} L ${x2} ${y2}` : `M ${x1} ${y1} C ${x1 + (x2-x1)*0.5} ${y1}, ${x1 + (x2-x1)*0.5} ${y2}, ${x2} ${y2}`;
                        path.setAttribute("d", d);
                        path.classList.add("connector-line", "active");
                        connectorLayer.appendChild(path);
                    });
                }, 50);
            }

            // Initialization on DOM Load
            document.addEventListener('DOMContentLoaded', () => {
                const iframe = document.getElementById('arch-iframe');
                if (iframe) {
                    const doc = iframe.contentWindow.document;
                    doc.open();
                    doc.write(archHTML);
                    doc.close();
                }

                const reveals = document.querySelectorAll('.reveal');
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => { if(entry.isIntersecting) entry.target.classList.add('active'); });
                }, { threshold: 0.1 });
                reveals.forEach(el => observer.observe(el));
                initCharts();
            });

            window.switchTab = function(tabName) {
                const tabs = ['cli', 'js', 'manifest'];
                tabs.forEach(t => {
                    const btn = document.getElementById(`btn-${t}`);
                    const content = document.getElementById(`content-${t}`);
                    if (t === tabName) {
                        content.classList.remove('hidden');
                        btn.className = 'px-6 py-3 text-xs font-bold text-white bg-black border-t-2 border-brand-primary tracking-wider transition-all';
                    } else {
                        content.classList.add('hidden');
                        btn.className = 'px-6 py-3 text-xs font-bold text-brand-muted hover:text-white hover:bg-black/50 tracking-wider transition-all';
                    }
                });
            }

            function initCharts() {
                const ctxLV = document.getElementById('latencyVolumeChart').getContext('2d');
                new Chart(ctxLV, {
                    type: 'line',
                    data: {
                        labels: ['1kb', '10kb', '100kb', '1mb', '10mb'],
                        datasets: [
                            {
                                label: 'Docker/Lambda (ms)',
                                data: [250, 300, 450, 800, 2000],
                                borderColor: colors.secondary,
                                backgroundColor: colors.secondary,
                                borderWidth: 2,
                                tension: 0.4
                            },
                            {
                                label: 'sous Runtime (ms)',
                                data: [15, 20, 35, 60, 150],
                                borderColor: colors.primary,
                                backgroundColor: colors.primary,
                                borderWidth: 2,
                                tension: 0.4,
                                fill: true
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: { y: { title: { display: true, text: 'Startup Latency (ms)', font: { size: 10 } } } },
                        plugins: { legend: { display: true, position: 'bottom', labels: { boxWidth: 10, font: { size: 10 } } } }
                    }
                });

                const ctxAC = document.getElementById('accuracyCostChart').getContext('2d');
                new Chart(ctxAC, {
                    type: 'bar',
                    data: {
                        labels: ['Lambda', 'Fargate', 'sous Node'],
                        datasets: [{
                            label: 'Memory per Idle (MB)',
                            data: [128, 512, 12],
                            backgroundColor: [colors.secondary, colors.secondary, colors.primary],
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: { y: { title: { display: true, text: 'Memory (MB)', font: { size: 10 } } } },
                        plugins: { legend: { display: false } }
                    }
                });
            }
        })();
    </script>
</body>
</html>
